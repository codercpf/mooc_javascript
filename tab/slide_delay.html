<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>延迟切换选项卡</title>
	<link rel="stylesheet" type="text/css" href="style.css">

	<script type="text/javascript">
		function $(id){
			return typeof id==='string' ? document.getElementById(id) : id;
		}
		window.onload = function(){
			var index=0; 				//滑过的标签的索引
			var timer = null;
			var lis = $('notice-tit').getElementsByTagName('li'),
				divs = $('notice-con').getElementsByTagName('div');

			if (lis.length != divs.length) 
				return;

			//遍历所有页签
			for (var i = 0; i < lis.length; i++) {
				lis[i].id = i;
				lis[i].onmouseover = function(){
					// 用that这个变量来引用当前滑过的li
					var that = this;
					//如果存在准备执行的定时器，立刻清除。在鼠标停留时间大于500ms时才执行
					if(timer){
						clearTimeout(timer);	//同clearInterval()，参数是setTimeout()返回的ID
						timer=null;
					}
					//延迟半秒执行, setTimeout()隶属于window，window省略,故下面方法中不能用this
					timer = setTimeout(function(){
						for (var j = 0; j < lis.length; j++) {
							lis[j].className = '';
							divs[j].style.display = 'none';
						}
						
						lis[that.id].className = 'select';
						divs[that.id].style.display = 'block';
					},500);	//返回一个TimerID

				}
			};

		}
	</script>
</head>
<body>
	<div id="notice" class="notice">
		<div id="notice-tit" class="notice-tit">
			<ul>
				<li>
					<a href="#" title="">公告</a>
				</li>
				<li>
					<a href="#" title="">规则</a>
				</li>
				<li>
					<a href="#" title="">论坛</a>
				</li>
				<li>
					<a href="#" title="">安全</a>
				</li>
				<li class="select">
					<a href="#" title="">公益</a>
				</li>
			</ul>			
		</div>

		<div id="notice-con" class="notice-con">
			<div class="mod" style="display: none">
				<ul>
					<li>						
					    <a href="#">张勇：要玩快乐足球</a>					    
					</li>
					<li>						
					    <a href="#">阿里2000万驰援灾区！</a>				    
					</li>
					<li>
					    <a href="#">旅游宝让你边玩边赚钱</a>				    
					</li>
					<li>
					    <a href="#">多行跟进阿里信用贷款</a>				    
					</li>
				</ul>
			</div>

			<div class="mod" style="display: none">
				<ul>
					<li>
						<span>[<a href="#">通知</a>]</span>
					    <a href="#">"滥发"即将换新</a>					    
					</li>
					<li>
						<span>[<a href="#">通知</a>]</span>
					    <a href="#">阿里2000万驰援灾区！</a>				    
					</li>
					<li>
						<span>[<a href="#">通知</a>]</span>
					    <a href="#">比特币严管啦！</a>				    
					</li>
					<li>
						<span>[<a href="#">通知</a>]</span>
					    <a href="#">限制商品属性</a>				    
					</li>
				</ul>
			</div>

			<div class="mod" style="display: none">
				<ul>
					<li>
						<span>[<a href="#">聚焦</a>]</span>
					    <a href="#">金牌卖家再起航</a>					    
					</li>
					<li>
						<span>[<a href="#">功能</a>]</span>
					    <a href="#">橱窗规则升级啦</a>				    
					</li>
					<li>
						<span>[<a href="#">话题</a>]</span>
					    <a href="#">又爱又恨优惠券</a>				    
					</li>
					<li>
						<span>[<a href="#">工具</a>]</span>
					    <a href="#">购后送店铺红包</a>				    
					</li>
				</ul>
			</div>

			<div class="mod" style="display: none">
				<ul>
					<li>
						<a href="#">个人重要信息要管牢！</a>
					</li>
					<li>
						<a href="#">卖家防范红包欺诈提醒</a>
					</li>
					<li>
						<a href="#">更换收货地址的陷阱！</a>
					</li>
					<li>
						<a href="#">注意骗子的技术升级了！</a>
					</li>
				</ul>
			</div>

			<div class="mod" style="display: block">
				<ul>
					<li>
					    <a href="#">走进无声课堂</a>					    
					</li>
					<li>
					    <a href="#">淘宝之行大众评审赢公益</a>				    
					</li>
					<li>
					    <a href="#">爱心品牌联合征集</a>				    
					</li>
					<li>
					    <a href="#">公益机构淘宝开店攻略</a>				    
					</li>
				</ul>
			</div>
		</div>
	</div>
	
</body>
</html>